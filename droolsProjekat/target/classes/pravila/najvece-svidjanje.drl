package pravila;

import model.Korisnik;
import java.util.List;
import java.util.Collections;

global Integer najveciBrojSvidjanja;

rule "Racunanje ko ima najvise svidjanja"
salience 17
agenda-group "preporuka"
    when
        $duzine: List() from accumulate (Korisnik($k: lajkovaneKnjige.size()); collectList( $k ))
    then
        najveciBrojSvidjanja = (int) Collections.max($duzine);
        System.out.println("*** Najveci broj svidjanja " + najveciBrojSvidjanja);
        drools.getKnowledgeRuntime().setGlobal("najveciBrojSvidjanja", najveciBrojSvidjanja);
end